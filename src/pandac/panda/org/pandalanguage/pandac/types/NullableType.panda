package org.pandalanguage.pandac.types

uses org.pandalanguage.pandac.tree.ClassNode
uses org.pandalanguage.pandac.tree.MethodNode
uses org.pandalanguage.pandac.tree.Position
uses org.pandalanguage.pandac.compiler.SymbolTable

================================================================================
A nullable version of a `ClassType`.
================================================================================
class NullableType : Type {
    constant TO_NULLABLE_CAST_COST := 1
    constant FROM_NULLABLE_CAST_COST := 2

    @private
    def base:Type

    constructor(base:Type) {
        super.constructor(base.name + "?")
        self.base := base
    }

    @override
    function isTuple():Bit {
        return base.isTuple
    }

    @override
    function ->>():TupleType {
        return base->>(TupleType)
    }
}
