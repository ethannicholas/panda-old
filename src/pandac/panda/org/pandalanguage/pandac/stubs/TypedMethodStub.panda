package org.pandalanguage.pandac.stubs

uses org.pandalanguage.pandac.parser.ParseNode
uses org.pandalanguage.pandac.tree.Annotations
uses org.pandalanguage.pandac.tree.MethodNodeType
uses org.pandalanguage.pandac.tree.Position
uses org.pandalanguage.pandac.types.Type

================================================================================
Represents a parsed but not-yet-compiled method after symbol resolution.
================================================================================
class TypedMethodStub : MethodStub {
    def parameters:ImmutableArray<TypedFormalParameter>

    def returnType:Type?

    constructor(position:Position, name:String, annotations:Annotations,
            methodType:MethodNodeType, 
            parameters:ListView<TypedFormalParameter>, returnType:Type?,
            block:ParseNode?) {
        super.constructor(position, name, annotations, methodType, block)
        self.parameters := new ImmutableArray<TypedFormalParameter>(
                parameters)
        self.returnType := returnType
    }

    @override
    function format(fmt:String):String {
        return "\{name}(\{parameters.join(', ')})"
    }
}