package org.pandalanguage.pandac.tree

================================================================================
Represents a reference to a variable.
================================================================================
class VariableReference : Value {
    ============================================================================
    The variable being referenced.
    ============================================================================
    var variable:Variable

    @pre(variable-!>(FieldNode))
    constructor(variable:Variable) {
        super.constructor(variable.type.unwrapGenerics())
        self.variable := variable
    }

    @pre(variable-!>(FieldNode))
    constructor(position:Position, variable:Variable) {
        super.constructor(position, variable.type.unwrapGenerics())
        self.variable := variable
    }
    
    @override
    method markLive() {
        if !live {
            super.markLive()
            type.markLive()
        }
    }
    @override
    function format(fmt:String):String {
        return variable->>(String)
    }
}