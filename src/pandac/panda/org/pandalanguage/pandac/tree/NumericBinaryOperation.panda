package org.pandalanguage.pandac.tree

uses org.pandalanguage.pandac.types.Type

@abstract
class NumericBinaryOperation : BinaryOperation {
    constructor() {
        super.constructor()
    }
    
    constructor(position:Position) {
        super.constructor(position)
    }
   
    constructor(position:Position, type:Type) {
        super.constructor(position, type)
    }
   
    @protected
    @override
    method determineType() {
        assert left.type = right.type
        type := left.type
    }
    
    @override
    method getOperandType(left:Value, right:Value, strict:Bit):Type? {
        var result := super.getOperandType(left, right, strict)
        if result != null & result.isNumber
            return result
        else
            return null
    }
}