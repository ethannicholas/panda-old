package panda.core

================================================================================
The runtime class of all immutable method types. Methods are immutable by 
default; they become mutable only if they capture mutable variables as part of
a closure.

See [Methods](../../../methods.html) for more information about using method
objects in Panda.
================================================================================
class Method : Immutable {
    ============================================================================
    @hidden
    ============================================================================
    @protected
    -- HACK: there is a hack that specifically allows us to include mutable 
    -- fields in the class Method, so that we can have this field here. We know
    -- that the MutableMethod in question doesn't *actually* have any mutable 
    -- fields, as it's just a stub which calls this method.
    def $mutableVersion:MutableMethod

    ============================================================================
    @hidden
    ============================================================================
    constructor($mutableVersion:MutableMethod) {
        self.$mutableVersion := $mutableVersion
    }

    ============================================================================
    @hidden
    ============================================================================
    function ->>():MutableMethod {
        return $mutableVersion
    }
}