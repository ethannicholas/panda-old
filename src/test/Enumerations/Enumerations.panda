enum Test {
    TEST1,
    TEST2
}

assert Test.TEST1 != Test.TEST2
assert Test.TEST1->>String = "TEST1"
assert Test.TEST2->>String = "TEST2"
assert Test.TEST1->>Int = 0
assert Test.TEST2->>Int = 1
assert 0->>Test = Test.TEST1
assert 1->>Test = Test.TEST2
assert "TEST1"->>Test = Test.TEST1
assert "TEST2"->>Test = Test.TEST2

try {
    var a := 2->>Test = Test.TEST1
    unreachable
}
catch e:SafetyError {
}

try {
    var a := "TEST3"->>Test = Test.TEST1
    unreachable
}
catch e:SafetyError {
}

Console.writeLine("success")