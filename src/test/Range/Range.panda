-- Basic Sanity Tests --

def inclusive := 1 ... 3
assert inclusive->>(String) = "[1, 2, 3]"

def exclusive := 1 .. 3
assert exclusive->>(String) = "[1, 2]"

def inclusiveEmpty := 3 ... 1
assert inclusiveEmpty.length = 0

def exclusiveEmpty := 3 ... 1
assert exclusiveEmpty.length = 0

def inclusiveBackwards := 3 ... 1 by -1
assert inclusiveBackwards->>(String) = "[3, 2, 1]"

def exclusiveBackwards := 3 .. 1 by -1
assert exclusiveBackwards->>(String) = "[3, 2]"

assert (1 .. 3).class = class(Array<Int32>)
assert (1.1 .. 3.3 by 0.1).class = class(Array<Real64>)
assert (1 .. 3.3).class = class(Array<Real64>)
assert (1.1 .. 3).class = class(Array<Real64>)
assert (1 .. 3 by 0.1).class = class(Array<Real64>)
assert ("A" .. "Z").class = class(Array<Char>)
assert ("A" .. "Z" by 2).class = class(Array<Char>)

-- Int8 --

def exclusiveInt8:Array<Int8> := 1 .. 100
assert exclusiveInt8[77] = 78
assert exclusiveInt8.class = class(Array<Int8>)
assert exclusiveInt8.length = 99

def inclusiveInt8:Array<Int8> := 1 ... 100
assert inclusiveInt8[40] = 41
assert inclusiveInt8.class = class(Array<Int8>)
assert inclusiveInt8.length = 100

def exclusiveInt8Step:Array<Int8> := 100 .. 0 by -2
assert exclusiveInt8Step[1] = 98
assert exclusiveInt8Step.class = class(Array<Int8>)
assert exclusiveInt8Step.length = 50

def inclusiveInt8Step:Array<Int8> := 100 ... 0 by -2
assert exclusiveInt8Step[4] = 92
assert inclusiveInt8Step.class = class(Array<Int8>)
assert inclusiveInt8Step.length = 51

def immutableInt8:ImmutableArray<Int8> := 1 ... 100
assert immutableInt8[97] = 98
assert immutableInt8.class = class(ImmutableArray<Int8>)
assert immutableInt8.length = 100

-- Int16 --

def exclusiveInt16:Array<Int16> := 1 .. 100
assert exclusiveInt16[52] = 53
assert exclusiveInt16.class = class(Array<Int16>)
assert exclusiveInt16.length = 99

def inclusiveInt16:Array<Int16> := 1 ... 100
assert inclusiveInt16[49] = 50
assert inclusiveInt16.class = class(Array<Int16>)
assert inclusiveInt16.length = 100

def exclusiveInt16Step:Array<Int16> := 100 .. 0 by -2
assert exclusiveInt16Step[10] = 80
assert exclusiveInt16Step.class = class(Array<Int16>)
assert exclusiveInt16Step.length = 50

def inclusiveInt16Step:Array<Int16> := 100 ... 0 by -2
assert inclusiveInt16Step[40] = 20
assert inclusiveInt16Step.class = class(Array<Int16>)
assert inclusiveInt16Step.length = 51

def immutableInt16:ImmutableArray<Int16> := 1 ... 100
assert immutableInt16[0] = 1
assert immutableInt16.class = class(ImmutableArray<Int16>)
assert immutableInt16.length = 100

-- Int32 --

def exclusiveInt32:Array<Int32> := 1 .. 100
assert exclusiveInt32[98] = 99
assert exclusiveInt32.class = class(Array<Int32>)
assert exclusiveInt32.length = 99

def inclusiveInt32:Array<Int32> := 1 ... 100
assert inclusiveInt32[15] = 16
assert inclusiveInt32.class = class(Array<Int32>)
assert inclusiveInt32.length = 100

def exclusiveInt32Step:Array<Int32> := 100 .. 0 by -2
assert exclusiveInt32Step[39] = 22
assert exclusiveInt32Step.class = class(Array<Int32>)
assert exclusiveInt32Step.length = 50

def inclusiveInt32Step:Array<Int32> := 100 ... 0 by -2
assert inclusiveInt32Step[8] = 84
assert inclusiveInt32Step.class = class(Array<Int32>)
assert inclusiveInt32Step.length = 51

def immutableInt32:ImmutableArray<Int32> := 1 ... 100
assert immutableInt32[41] = 42
assert immutableInt32.class = class(ImmutableArray<Int32>)
assert immutableInt32.length = 100

-- Int64 --

def exclusiveInt64:Array<Int64> := 1 .. 100
assert exclusiveInt64[90] = 91
assert exclusiveInt64.class = class(Array<Int64>)
assert exclusiveInt64.length = 99

def inclusiveInt64:Array<Int64> := 1 ... 100
assert inclusiveInt64[31] = 32
assert inclusiveInt64.class = class(Array<Int64>)
assert inclusiveInt64.length = 100

def exclusiveInt64Step:Array<Int64> := 100 .. 0 by -2
assert exclusiveInt64Step[16] = 68
assert exclusiveInt64Step.class = class(Array<Int64>)
assert exclusiveInt64Step.length = 50

def inclusiveInt64Step:Array<Int64> := 100 ... 0 by -2
assert inclusiveInt64Step[17] = 66
assert inclusiveInt64Step.class = class(Array<Int64>)
assert inclusiveInt64Step.length = 51

def immutableInt64:ImmutableArray<Int64> := 1 ... 100
assert immutableInt64[88] = 89
assert immutableInt64.class = class(ImmutableArray<Int64>)
assert immutableInt64.length = 100

-- UInt8 --

def exclusiveUInt8:Array<UInt8> := 1 .. 100
assert exclusiveUInt8[9] = 10
assert exclusiveUInt8.class = class(Array<UInt8>)
assert exclusiveUInt8.length = 99

def inclusiveUInt8:Array<UInt8> := 1 ... 100
assert inclusiveUInt8[46] = 47
assert inclusiveUInt8.class = class(Array<UInt8>)
assert inclusiveUInt8.length = 100

def exclusiveUInt8Step:Array<UInt8> := 100 .. 0 by -2
assert exclusiveUInt8Step[15] = 70
assert exclusiveUInt8Step.class = class(Array<UInt8>)
assert exclusiveUInt8Step.length = 50

def inclusiveUInt8Step:Array<UInt8> := 100 ... 0 by -2
assert inclusiveUInt8Step[13] = 74
assert inclusiveUInt8Step.class = class(Array<UInt8>)
assert inclusiveUInt8Step.length = 51

def immutableUInt8:ImmutableArray<UInt8> := 1 ... 100
assert immutableUInt8[15] = 16
assert immutableUInt8.class = class(ImmutableArray<UInt8>)
assert immutableUInt8.length = 100

-- UInt16 --

def exclusiveUInt16:Array<UInt16> := 1 .. 100
assert exclusiveUInt16[92] = 93
assert exclusiveUInt16.class = class(Array<UInt16>)
assert exclusiveUInt16.length = 99

def inclusiveUInt16:Array<UInt16> := 1 ... 100
assert inclusiveUInt16[18] = 19
assert inclusiveUInt16.class = class(Array<UInt16>)
assert inclusiveUInt16.length = 100

def exclusiveUInt16Step:Array<UInt16> := 100 .. 0 by -2
assert exclusiveUInt16Step[12] = 76
assert exclusiveUInt16Step.class = class(Array<UInt16>)
assert exclusiveUInt16Step.length = 50

def inclusiveUInt16Step:Array<UInt16> := 100 ... 0 by -2
assert inclusiveUInt16Step[22] = 56
assert inclusiveUInt16Step.class = class(Array<UInt16>)
assert inclusiveUInt16Step.length = 51

def immutableUInt16:ImmutableArray<UInt16> := 1 ... 100
assert immutableUInt16[89] = 90
assert immutableUInt16.class = class(ImmutableArray<UInt16>)
assert immutableUInt16.length = 100

-- UInt32 --

def exclusiveUInt32:Array<UInt32> := 1 .. 100
assert exclusiveUInt32[98] = 99
assert exclusiveUInt32.class = class(Array<UInt32>)
assert exclusiveUInt32.length = 99

def inclusiveUInt32:Array<UInt32> := 1 ... 100
assert inclusiveUInt32[26] = 27
assert inclusiveUInt32.class = class(Array<UInt32>)
assert inclusiveUInt32.length = 100

def exclusiveUInt32Step:Array<UInt32> := 100 .. 0 by -2
assert exclusiveUInt32Step[31] = 38
assert exclusiveUInt32Step.class = class(Array<UInt32>)
assert exclusiveUInt32Step.length = 50

def inclusiveUInt32Step:Array<UInt32> := 100 ... 0 by -2
assert inclusiveUInt32Step[18] = 64
assert inclusiveUInt32Step.class = class(Array<UInt32>)
assert inclusiveUInt32Step.length = 51

def immutableUInt32:ImmutableArray<UInt32> := 1 ... 100
assert immutableUInt32[72] = 73
assert immutableUInt32.class = class(ImmutableArray<UInt32>)
assert immutableUInt32.length = 100

-- UInt64 --

def exclusiveUInt64:Array<UInt64> := 1 .. 100
assert exclusiveUInt64[17] = 18
assert exclusiveUInt64.class = class(Array<UInt64>)
assert exclusiveUInt64.length = 99

def inclusiveUInt64:Array<UInt64> := 1 ... 100
assert inclusiveUInt64[25] = 26
assert inclusiveUInt64.class = class(Array<UInt64>)
assert inclusiveUInt64.length = 100

def exclusiveUInt64Step:Array<UInt64> := 100 .. 0 by -2
assert exclusiveUInt64Step[19] = 62
assert exclusiveUInt64Step.class = class(Array<UInt64>)
assert exclusiveUInt64Step.length = 50

def inclusiveUInt64Step:Array<UInt64> := 100 ... 0 by -2
assert inclusiveUInt64Step[14] = 72
assert inclusiveUInt64Step.class = class(Array<UInt64>)
assert inclusiveUInt64Step.length = 51

def immutableUInt64:ImmutableArray<UInt64> := 1 ... 100
assert immutableUInt64[42] = 43
assert immutableUInt64.class = class(ImmutableArray<UInt64>)
assert immutableUInt64.length = 100

-- Real32 --

def exclusiveReal32:Array<Real32> := 0.5 .. 100
assert exclusiveReal32[17] = 17.5
assert exclusiveReal32.class = class(Array<Real32>)
assert exclusiveReal32.length = 100

def inclusiveReal32:Array<Real32> := 0.5 ... 100
assert inclusiveReal32[28] = 28.5
assert inclusiveReal32.class = class(Array<Real32>)
assert inclusiveReal32.length = 100

def exclusiveReal32Step:Array<Real32> := 100 .. 0 by -2.5
assert exclusiveReal32Step[6] = 85
assert exclusiveReal32Step.class = class(Array<Real32>)
assert exclusiveReal32Step.length = 40

def inclusiveReal32Step:Array<Real32> := 100 ... 0 by -2.5
assert inclusiveReal32Step[1] = 97.5
assert inclusiveReal32Step.class = class(Array<Real32>)
assert inclusiveReal32Step.length = 41

def immutableReal32:ImmutableArray<Real32> := 0.5 ... 100
assert immutableReal32[42] = 42.5
assert immutableReal32.class = class(ImmutableArray<Real32>)
assert immutableReal32.length = 100

-- Real64 --

def exclusiveReal64:Array<Real64> := 0.5 .. 100
assert exclusiveReal64[12] = 12.5
assert exclusiveReal64.class = class(Array<Real64>)
assert exclusiveReal64.length = 100

def inclusiveReal64:Array<Real64> := 0.5 ... 100
assert inclusiveReal64[87] = 87.5
assert inclusiveReal64.class = class(Array<Real64>)
assert inclusiveReal64.length = 100

def exclusiveReal64Step:Array<Real64> := 100 .. 0 by -2.5
assert exclusiveReal64Step[15] = 62.5
assert exclusiveReal64Step.class = class(Array<Real64>)
assert exclusiveReal64Step.length = 40

def inclusiveReal64Step:Array<Real64> := 100 ... 0 by -2.5
assert inclusiveReal64Step[18] = 55
assert inclusiveReal64Step.class = class(Array<Real64>)
assert inclusiveReal64Step.length = 41

def immutableReal64:ImmutableArray<Real64> := 0.5 ... 100
assert immutableReal64[97] = 97.5
assert immutableReal64.class = class(ImmutableArray<Real64>)
assert immutableReal64.length = 100

-- Char --

def exclusiveChar:Array<Char> := "A" .. "E"
assert exclusiveChar[3] = "D"
assert exclusiveChar.class = class(Array<Char>)
assert exclusiveChar.length = 4

def inclusiveChar:Array<Char> := "A" ... "E"
assert inclusiveChar[4] = "E"
assert inclusiveChar.class = class(Array<Char>)
assert inclusiveChar.length = 5

def exclusiveCharStep:Array<Char> := "E" .. "A" by -1
assert exclusiveCharStep[2] = "C"
assert exclusiveCharStep.class = class(Array<Char>)
assert exclusiveCharStep.length = 4

def inclusiveCharStep:Array<Char> := "E" ... "A" by -1
assert inclusiveCharStep[1] = "D"
assert inclusiveCharStep.class = class(Array<Char>)
assert inclusiveCharStep.length = 5

def immutableChar:ImmutableArray<Char> := "A" ... "E"
assert immutableChar[1] = "B"
assert immutableChar.class = class(ImmutableArray<Char>)
assert immutableChar.length = 5

Console.writeLine("success")