def s := new PrimitiveArray<String>("Goodbye", "World")
assert s.length = 2
s[0] := "Hello"
assert s[0] + " " + s[1] = "Hello World"

var a := new PrimitiveArray<Int>(10)
assert a[0] = 0
a[9] := 42
assert a[9] = 42

s.length := 1
assert s.contains("Hello") & !s.contains("Goodbye")
try {
    s.length := 2
    unreachable
}
catch e:SafetyError {
}

def nullable := new PrimitiveArray<String?>()
nullable.length := 5
assert nullable.length = 5

def grow := new PrimitiveArray<Int>()
for index in 0 .. 10001
    grow.append(index)
    
for index in 0 .. 10001
    assert grow[index] = index

def nested := new PrimitiveArray<PrimitiveArray<PrimitiveArray<Int>>>()
for i in 0 .. 5 {
    nested.append(new PrimitiveArray<PrimitiveArray<Int>>())
    for j in 0 .. 5 {
        nested[i].append(new PrimitiveArray<Int>())
        for k in 0 .. 5
            nested[i][j].append(i * 100 + j * 10 + k)
    }
}
assert nested[3][1][2] = 312
assert nested[1][0][4] = 104

Console.writeLine("Success")